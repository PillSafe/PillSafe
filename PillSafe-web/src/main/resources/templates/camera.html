<!DOCTYPE html>
<html>
<head>
  <title>카메라 사진 찍기</title>
  <script>
    async function capturePhoto() {
      const videoElement = document.getElementById('video');
      const canvasElement = document.getElementById('canvas');

      const constraints = { video: true };
      const stream = await navigator.mediaDevices.getUserMedia(constraints);
      videoElement.srcObject = stream;

      videoElement.onloadedmetadata = () => {
        canvasElement.width = videoElement.videoWidth;
        canvasElement.height = videoElement.videoHeight;
        canvasElement.getContext('2d').drawImage(videoElement, 0, 0);
        const photoData = canvasElement.toDataURL('image/png');

        // 이제 `photoData`를 백엔드로 전송하여 저장하거나 처리할 수 있습니다.
        // 예를 들어, fetch API를 사용하여 스프링 부트 엔드포인트로 전송합니다.
      };
    }
  </script>
</head>
<body>
<h1>카메라 사진 찍기</h1>
<video id="video" autoplay></video>
<button onclick="capturePhoto()">사진 찍기</button>
<canvas id="canvas" style="display: none;"></canvas>
</body>
</html>
